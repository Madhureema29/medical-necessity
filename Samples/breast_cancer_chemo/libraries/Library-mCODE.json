{
    "resourceType": "Library",
    "version": "1",
    "title": "mCODE",
    "name": "mCODE",
    "status": "draft",
    "type": {
      "coding": [
        {
          "code": "logic-library"
        }
      ]
    },
    "relatedArtifact": [
      {
        "type": "depends-on",
        "resource": "Library/FHIRHelpers"
      }
    ],
    "dataRequirement": [
      {
        "type": "DiagnosticReport",
        "codeFilter": [
            {
                "path": "code",
                "code": [
                    {
                    "system": "www.loinc.org",
                    "code":"81247-9",
                    "display":"Master HL7 genetic variant reporting panel"
                    }
                ]
            }
        ]
      },
      {
        "type": "Procedure",
        "codeFilter": [
          {
            "path": "code",
            "valueSet": "mcode-radiation-procedure-vs"
          }
          ]
      },
      {
        "type": "Procedure",
        "codeFilter": [
          {
            "path": "code",
            "valueSet": "mcode-cancer-related-surgical-procedure-vs"
          }
          ]
      },
      {
        "type": "Condition",
        "codeFilter": [
          {
            "path": "code",
            "valueSet": "mcode-comorbid-condition-vs"
          }
          ]
      },
      {
        "type": "Observation",
        "codeFilter": [
            {
                "path": "code",
                "code": [
                    {
                    "system": "www.loinc.org",
                    "code":"89247-1",
                    "display":"ECOG Performance Status score"
                    }
                ]
            }
        ]
      },
      {
        "type": "Specimen",
        "codeFilter": [
          {
            "path": "code",
            "valueSet": "mcode-genetic-specimen-type-vs"
          }
          ]
      },
      {
        "type": "Observation",
        "codeFilter": [
            {
                "path": "code",
                "code": [
                    {
                    "system": "www.loinc.org",
                    "code":"53041-0",
                    "display":"DNA region of interest panel"
                    }
                ]
            }
        ]
      },
      {
        "type": "Observation",
        "codeFilter": [
            {
                "path": "code",
                "code": [
                    {
                    "system": "www.loinc.org",
                    "code":"89243-0",
                    "display":"Karnofsky Performance Status score"
                    }
                ]
            }
        ]
      },
      {
        "type": "Condition",
        "codeFilter": [
            {
                "path": "code",
                "valueSet": "mcode-primary-or-uncertain-behavior-cancer-disorder-vs"
            }
        ]
      },
      {
        "type": "Condition",
        "codeFilter": [
            {
                "path": "code",
                "valueSet": "mcode-secondary-cancer-disorder-vs"
            }
        ]
      },
      {
        "type": "Observation",
        "codeFilter": [
            {
                "path": "code",
                "code": [
                    {
                    "system": "www.loinc.org",
                    "code":"21907-1",
                    "display":"Distant metastases.clinical [Class] Cancer"
                    }
                ]
            }
        ]
      },
      {
        "type": "Observation",
        "codeFilter": [
            {
                "path": "code",
                "code": [
                    {
                    "system": "www.loinc.org",
                    "code":"21905-5",
                    "display":"Primary tumor.clinical [Class] Cancer"
                    }
                ]
            }
        ]
      },
      {
        "type": "Observation",
        "codeFilter": [
            {
                "path": "code",
                "code": [
                    {
                    "system": "www.loinc.org",
                    "code":"21906-3",
                    "display":"Regional lymph nodes.clinical [Class] Cancer"
                    }
                ]
            }
        ]
      },
      {
        "type": "Observation",
        "codeFilter": [
            {
                "path": "code",
                "code": [
                    {
                    "system": "www.loinc.org",
                    "code":"21908-9",
                    "display":"Stage group.clinical Cancer"
                    }
                ]
            }
        ]
      },
      {
        "type": "Observation",
        "codeFilter": [
            {
                "path": "code",
                "code": [
                    {
                    "system": "www.loinc.org",
                    "code":"21901-4",
                    "display":"Distant metastases.pathology [Class] Cancer"
                    }
                ]
            }
        ]
      },
      {
        "type": "Observation",
        "codeFilter": [
            {
                "path": "code",
                "code": [
                    {
                    "system": "www.loinc.org",
                    "code":"21899-0",
                    "display":"Primary tumor.pathology Cancer"
                    }
                ]
            }
        ]
      },
      {
        "type": "Observation",
        "codeFilter": [
            {
                "path": "code",
                "code": [
                    {
                    "system": "www.loinc.org",
                    "code":"21900-6",
                    "display":"Regional lymph nodes.pathology [Class] Cancer"
                    }
                ]
            }
        ]
      },
      {
        "type": "Observation",
        "codeFilter": [
            {
                "path": "code",
                "code": [
                    {
                    "system": "www.loinc.org",
                    "code":"21902-2",
                    "display":"Stage group.pathology Cancer"
                    }
                ]
            }
        ]
      },
      {
        "type": "Observation",
        "codeFilter": [
          {
            "path": "code",
            "valueSet": "mcode-tumor-marker-test-vs"
          }
          ]
      }
    ]
  }
  